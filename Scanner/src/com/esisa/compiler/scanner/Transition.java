package com.esisa.compiler.scanner;

import java.util.Iterator;

public class Transition {
	/*
	 * Matrice de transition qui représente la fonction
	 * de transition de l'automate. on va ainsi noté par exemple :
	 * t[e1][e2] = e2 
	 * on dira que la transition de e2 sur s est égale à e2
	 * on dira aussi qu'on transite de e1 vers e2 sur l symbole s 
	 * e1 est l'état source, e2 est l'état cible
	 */
	
	private State t[][];
	
	
	public Transition(int statesCount) {
		t = new State[statesCount][256];
		
	}
	
	/*
	 * Définir une transition entre un état source et un état cible 
	 * sur un symbole s 
	 */
	
	public void add(State source, State target, int s) {
		t[source.getIndex()][s] = target;
	}
	
	/*
	 * Transition sur un intervalle de symboles
	 */
	
	
	public void add(State source, State target, int min, int max) {
		for (int s  = min; s <= max; s++) {
			t[source.getIndex()][s] = target;
		}
		
	}
	
	/*
	 * Transition sur une ensemble de caractères
	 */
	
	public void add(State source, State target, String set) {
		for (int i  = 0; i < set.length(); i++) {
			t[source.getIndex()][set.charAt(i)] = target;
		}
		
	}
	
	/*
	 * Récuperer la transition d'un état sur un symbole s
	 */
	
	public State get(State source, char s) {
		return t[source.getIndex()][s];
	}
	
}
